# Vulnerabilities in Multi-factor auth

This is authentication type, during which you have to authenticate through several steps. These are usually based on something you **have** or something you **know**.
Most common type of 2FA consists of 2 steps:
1. Entering a password
2. Entering a code from out-of-band device in user possession
2FA is considerably more difficult to exploit. Though it's as safe as it's implementation and it as with password-based auth, sometimes it can be beaten or even bypassed. 
True 2FA utilizes at least 2 different factors. *(1. Something you know; 2. Something you have; 3. Something you are)* Email 2FA is an offender of that rule. As it still relies on 1 factor - Something you know. As it only relies on if the user know his email. 

## Two-factor authentication tokens
Usually read from a physical device such as RSA token or keypad device (PIN generator for bank). Or uses a dedicated app such as Google Authenticator

Some utilize SMS verification. Where the code gets sent, which is also open for abuse. It gets generated on the server and then gets sent to the user device. The code is being transmitted via SMS rather than being generated by the device itself. It has two issues:
1. Attacker could intercept the transmission
2. Attacker could do SIM swapping. Obtaining victim's SIM, and in result being able of obtaining verification codes

### Challenge 2FA Broken logic (Again could not solve without solution)
The problem is solved by using the `GET /login2` request, which is the HTTP request sends the 2FA code the user's email and sends you the authentication page. You use the HTTP request to `GET /login2` and send it with a modified header `Cookie: verified=victim's-username` to the user you want to send 2FA code to. 
Then after that, you send a `POST /login2` to try and verify yourself. After that brute-force all the possible codes with `POST /login2` with a header `Cookie: verified=victim's-username`. After receiving `302`, which indicates a redirection to the account page, copy the request and paste it into browser to receive the request and in return verify yourself. 