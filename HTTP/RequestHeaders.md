# HTTP Headers

Header categories:

## 1. General Headers

General headers are used in both request and reponses. They are used to describe the message, not the it's contents
| Header | Example | Description |
| - | - | - |
| Date | `Date: Sat, 18 Nov 2023 00:10:42 GMT` | Hold the date and the time when the message originated. Standard time format - UTC |
| Connection | `Connection: close` | Tells whether the connection should stay alive after the request finishes. Two common values `close` and `keep-alive`. `close` from client or server means they would like to terminate the connection, while `keep-alive` headers indicates that connection should remain open to receive more data or input |

## 2. Entity Headers

Entity headers also can be found in request or in responses. And they are the opposite to general headers, they are used to describe the `content`(entity) transferred by the message.

| Header | Example | Description |
| - | - | - |
| Content-Type | `Content-Type: text/html` | Describes the type of resource being transferred. The value is automatically added by the browser client-side and returned in server response |
| Media-Type | `Media-Type: application/pdf` | Similar to Content-Type, and describes the data being transferred. Is important for telling the server about client data |
| Boundary | `boundary="b4e4fbd93540"` | Used to seperate content if there's more than one message |
| Content-Length | `Content-Length: 385` | Holds the size of the entity being passed. Its a necessary header as its used to read data from message body. ITs auto generated by the browser or cURL |
| Content-Encoding | `Content-Encoding: gzip` | Data can undergo transformations before being passed. For example a large response could possibly be encoded into a gzip format so that it is ttransferred faster |
| Cache-Control | `Cache-Control: max-age=604800` | Tells for how long save the resource inside the browsers and shared caches (e.g. Proxies, CDNs). |

## 3. Request Headers

Client sends Request Headers. These are used in a HTTP request and not related to the content of the request. 

| Header | Example | Description |
| - | - | - |
| Host | `Host: https://digitalafterlife.lt` | Specifies the queried host for resources. This can be a domain or an IP. |
| User-Agent | `User-Agent: cURL/7.77.0` | Describes the client requesting the resource. Reveals a lot about the client. Browser, its version, OS |
| Referer | `Referer: http://digitalafterlife.lt` | Denotes where the current request is coming from. For example entering website from google would set this header to google.com. Trusting this header is dangerous as it cn be modified. | 
| Accept | `Accept: */*` | Describes which media type the client can undestand. Current value signifies that all files can be understood. Genrally file types would be listed seperated by commas (,) |
| Cookie | `Cookie: PHPSESSID=b4e4fbd93540` | Contains key-value pair. It s a piece of data stored on the client and server, which act as an identifier. These are passed to the server per request, thus maintaining clients access.  Cookies can also serve other purposes, such as saving user preferences or session tracking. There can be multiple cookies in a single header separated by a semi-colon. |
| Authorization | `Authorization: BASIC cGFzc3dvcmQK` | Wth this header client can be identified. After authentication, server returns a token, which are stored only client side and are retrieved by server per request. |


## 4. Response Headers

Used in a HTTP response and these headers do not describe response contents

| Header | Example | Description |
| - | - | - |
| Server | `Server: Apache/2.2.14 (Win32)` | Describers server that sent the response. | 
| Set-Cookie | `Set-Cookie: PHPSESSID=b4e4fbd93540` | Contains the cookies needed for client identification. These are then parsed by the client and used in future requests |
| WWW-Authenticate | `WWW-Authenticate: BASIC realm="localhost"` | Notifies the client about authentication type needed to retrieve the requested resource. | 

## 5. Security Headers

Finally, we have Security Headers. With the increase in the variety of browsers and web-based attacks, defining certain headers that enhanced security was necessary. HTTP Security headers are a class of response headers used to specify certain rules and policies to be followed by the browser while accessing the website.

| Header | Example | Description |
| - | - | - |
| Content-Security-Policy | `Content-Security-Policy: script-src 'self'` | Dictates servers policy against externally injected scripts. This header instructs to accept resources only from trusted domins, preventing XSS |
| Strict-Transport-Security | `Strict-Transport-Security: max-age=31536000` | Prevents browser from accessing the website through HTTP and forces HTTPS. Prevents traffic sniffing. |
| Referrer-Policy | `Referrer-Policy: origin` | Dictates whether the browser should include the value specified via the Referrer header or not. It can help in avoiding disclosing sensitive URLs and information while browsing the website. | 

## Headers with cURL

`-I` flag displays only response headers
`-i` flags displays response and body 